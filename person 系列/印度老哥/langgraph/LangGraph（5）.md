
大家好，我是尼蒂什，很高兴你们来到我的YouTube频道。在这个视频中，我们将介绍我们的Agentic AI，并展示其线性图表示例。在开始视频之前，我们先回顾一下目前为止在这个系列中我们涵盖的内容。到目前为止，我已经在这个系列中上传了四个视频，大部分讨论都是理论性和概念性的。第一个视频中，我们讨论了当我们理解了这一点后，我们深入探讨了Agentic AI是什么。我们采用了一个用例，围绕这个用例展开了所有讨论。之后，我们转向了LangGraph，并首先尝试理解如果像LangChain这样的框架已经存在，为什么还需要LangGraph。然后我们通过一个用例展示了LangGraph的必要性。我会编写一些代码来展示，构建一些东西来展示。

今天的视频内容。如果要说的话，在今天的视频中，我们将开始学习如何在语言图中创建顺序工作流。顺序工作流是一种所有任务以线性方式连接的工作流，第一个任务完成后，你会进入第二个任务，第二个任务完成后，你会进入第三个任务，没有分支，也没有并行路径，完全是简单的线性工作流。我们将在这整个讲座中学习如何在语言图中创建这些工作流。我有两个目标：第一个目标是教你如何在语言图中编写基本代码，因为到目前为止你还没有在语言图中编写过代码，所以这将是你第一次体验。

第二点是当你学会那个代码后，借助它的帮助，你可以创建任何类型的顺序工作流程。如果这听起来不错，那么这就是我在这段视频中的目标。那么现在让我们开始视频吧。首先我们要做的是在我们的系统上安装Language Graph，然后我们将开始编写代码。所以伙计们，为了安装，我首先在我的桌面上创建了一个名为“Language Graph教程”的文件夹，并且我已经在VS Code中打开了这个文件夹。现在希望我在整个播放列表中都会在这个单一的文件夹中工作，除非我们正在创建一个需要全新项目结构的项目。我们将在这个文件夹内进行我们的编码工作。

好的，我会把这个文件夹上传到GitHub上，GitHub仓库的链接你可以在描述中找到。那么首先我们要做的是在终端中安装一些库，为了安装这些库，我们首先需要创建一个新的虚拟环境。要创建一个新的虚拟环境，我们需要输入这个命令，并且在这里你需要指定你的虚拟环境叫什么名字。我们把这个虚拟环境叫做my env，按回车键，我们的虚拟环境就准备好了。现在我们要激活它。

所以为此我们将编写我的env/scripts/activate，我们的虚拟环境已经准备好了，好吗？现在我们要做什么呢？在这里我们将安装我们的库。首先，我们将安装land graph，所以你可以看到land graph正在安装。接下来我们将安装land chain。现在你可能在想我们为什么要安装land chain。我之前告诉过你，land chain和land graph是一起工作的。即使在land graph中你正在创建工作流程，但如果你需要任何与llm相关的组件，那么你就需要它。

只有通过Land Chain的帮助才能获得，比如需要聊天模型、提示模板、文档加载器或文本分割器，所有这些功能你都可以在Land Chain中找到。所以在我们今天的视频中，我们将需要Land Chain，最后我们还需要另一个Land Chain的依赖项，我们称之为Land Chain OpenAI，因为我们将在今天的讲座中使用OpenAI的模型。此外，我们还需要另一个最后的库——pip install dotenv，因为我们将使用环境变量，而这个库将帮助你读取它们。

现在我们完成了，好的，目前我们只需要这些库。让我们快速测试一下我们安装的所有库是否正确导入。所以我们正在创建一个新文件，让我们称之为zero_test_installation.ipynb。基本上，我们正在创建一个Jupyter笔记本，好的，因为今天我们所有的代码都将在Jupyter笔记本中完成。我们这样做是因为在Jupyter笔记本中，你可以非常轻松地打印并查看LangGraph中创建的图表，好的，这就是我们要做的。

我们正在使用Jupyter Notebook，接下来当我们构建项目等时，我们将在普通的Python文件中编写代码。所以在这里，我们首先写一次：from langgraph.graph import StateGraph。我按了一次Shift+Enter，这里提示我选择我的Python环境，所以我将选择我刚创建的虚拟环境，就是在这里我安装了所有的库。然后我再运行一次，它说这里我需要安装ipy kernel包，所以我安装它，安装完成了，这个特定的单元格也运行了。我们再看一次：from langgraph

你可以看到建议正在出现，lang chain的建议也正在出现，这意味着我们的安装正在正常工作。好的，所以是的，我们的安装步骤已经完成了。现在我们需要做什么？我们需要创建我们的第一个工作流程。现在我们的第一个工作流程不会是一个llm工作流程，这意味着我们的工作流程中不会有任何与llm相关的组件。我特意让这个工作流程保持简单，这样你就可以把全部注意力集中在理解lang graph的语法上，而不是其他方面。好的。

在这个简单的工作流程中，首先会在输入中提供两个量——身高和体重，然后你将这两个量发送到一个节点，在该节点中，你将借助这两个量计算BMI。一旦计算完成，你将在输出中显示结果。这是一个非常简单的线性顺序工作流程。显然，我们现在将在lang graph中构建它，因此我们将这个工作流程表示为图。

第二件事是你还需要定义一个状态。现在，我建议你暂停视频，思考一下在这个简单的线性工作流中可能有哪些状态。我猜你正在想明白，你的状态中将有三个键值对：第一个是体重及其对应的值，第二个是身高及其对应的值，第三个是BMI及其计算得出的值。好了，这就是我们的状态。那么，让我们用Lang Graph来构建这个简单的工作流吧。首先，我会创建一个新文件，我们把这个文件命名为BMI_workflow.ipynb。

在这里，我们首先需要导入一些东西。首先，我们需要借助lang graph.graph的帮助来导入state graph。我稍后会告诉你state graph是什么。除此之外，我们还需要其他什么吗？在这一点上，不需要。那么，让我们做一件事：选择python环境并运行它。我们的第一个单元格已经运行了。现在看看流程是怎样的。无论你在构建什么lang graph的工作流程，首先你需要定义state。为了定义state，你需要做什么？你需要创建一个类。类的名称可以根据你的应用程序来命名。我们将其命名为BMI state，并且它将继承自typed dict类。我们需要在这里进行操作：from typing import type dictionary。

我之前告诉过你，你所定义的状态其实是一个特殊的字典，我们称之为类型字典。类型字典是一种特殊的字典，你可以在键值对中指定数据类型。在我们的类型字典中，有三个属性：第一个属性是体重，单位是公斤，类型为浮点数；第二个属性是身高，单位是米，类型也是浮点数；第三个属性是BMI值，同样也是浮点数。这样我们就定义好了我们的状态。接下来你需要做的是定义你的图表。要定义图表，首先你需要创建一个图表对象，这个对象属于状态图表类。



में आपको कोई graph बनाना है तो वो आप state graph की help से ही बनाते हो ठीक है यहाँ भी बस आपको एक चीज make sure करनी है कि आप यह object बनाते टाइम input में अपना state pass करते हो तो हम यहाँ पर pass करेंगे BMI state ठीक है तो यह आपने kind of अपना graph register कर लिया अब आप क्या करोगे यहाँ पे आप nodes add करोगे add nodes to your graph एक बार जब आप nodes add कर लोगे उसके बाद you will add edges to your graph और एक बार जब आपके nodes और edges दोनों आपने define कर लिये उसके बाद you will compile the graph just to check कि graph का structure सही है कि नहीं और finally execute the graph यह चार steps में हम काम करेंगे ठीक है तो सबसे पहले चलो node define करते हैं ठीक है तो हमारे इस पूरे workflow में actually node अपने हम BMI calculate कर रहे हैं तो actually we need just one node तो उसके लिए आप क्या करोगे आप graph object को call करके लिखोगे dot आपके बास दो methods आते हैं add edge add node आप add node को call करोगे और आप एक नाम दोगे अपने node को calculate BMI और आप फिर यहाँ पे उस function की तरफ point करोगे जो execute होगा जब भी वी यह node को execute होने को बोला जाएगा, मैंने आपको बताया था कि internally जितने भी nodes आप बनाते हो वो सब होते क्या है, python functions ठीक है, तो आपको यहाँ पर वो mapping करनी है कि मेरा node यह है और यह node actually behind the scenes python function है, कौन सा python function उसका नाम हमें यहाँ पर लिखना पड़ेगा, तो फिलाल हमने वो function बनाया नहीं है, तो मैं उस function का नाम भी मान लेता हूँ कि calculate BMI ही है, ठीक है और एक काम कर लेते है, यह वाला function पहले बना लेते है, तो मैं उपर वाले cell में जा रहा हूँ, एक new cell add कर रहा हूँ, और यहाँ पर मैं एक नया function बना रहा हूँ calculate BMI ठीक है, यही function हमारा node है, जैसे ही हमें बोला जाएगा, इस node को execute करो, तो automatically behind the scenes, यह function के अंदर का code execute होगा, ठीक है अब मैंने आपको एक चीज़ और बतायी थी, पिछले वीडियो में, कि आपका जो node execute होता है, तो execute होने के time, उस node को input में आपके graph का state मिलता है, which means, आपका function यह वाला जैसे ही trigger होगा, तो इसको input में क्या मिलना चाहिए, आपके graph का state, तो basically आपको एक state object मिल रहा है, जिसका type क्या होगा, BMI state, और मैंने आपको यह भी बोला था, कि जैसे ही आपका node अपना execution finish करता है, तो वापस पलट के क्या return करता है, again आपका state, तो यहाँ पे इस function से जो आपका output मिलेगा, वो भी आपका state ही रहने वाला है, ठीक है, तो यह I hope आपको समझ में this is type hinting, हम बता रहे हैं कि input में हमें एक state object मिल रहा है, जिसका type यह है, और output में भी हमें एक state object भेज रहे हैं, जिसका type यह है, ठीक है, अब यहाँ पे हमारा main code शुरू होता है, तो basically हमारा code बहुत simple है, हमें क्या करना है, हमें state के अंदर से weight और height की value को निकालना है, और BMI calculate करना है, ठीक है, तो हमारा जो weight value है, वो कहाँ पे हमें मिलेगा, वो मिलेगा हमारे state के अंदर, और हमारा जो height है, वो भी हमें मिलेगा state के अंदर, तो हमने क्या किया, अपने state के अंदर से weight और height की values extract कर लि, अब हमें क्या करना है, हमें BMI calculate करना है, तो BMI calculate करने का formula होता है, you can see, this is the formula, आप weight की value को divide कर देते हो, height के square से, तो हम लिखेंगे, weight divided by height का square, यह हमारी BMI value हो गई, अब since हमने BMI value calculate कर लिए, तो हमें क्या करना पड़ेगा, इस value को वापस state में update करना पड़ेगा, तो हम यह code लिखेंगे, state के अंदर BMI की value हो जाएगी, round of BMI की value, up to two decimal places, ठीक है, तो हमने क्या किया, अपने state में एक partial update किया, और partial update करने के बाद हम क्या कर रहे हैं, उसी state को return कर दे रहे हैं, I hope आपको यह पूरा flow समझ में आ रहा है, जैसे ही node execute होगा, यह function trigger होगा, यह function को input में state मिलेगा, यहाँ पे हम state के अंदर से weight और height की values निका लेंगे, BMI calculate करेंगे, जो भी BMI आया, उसको हम वापस state में update करेंगे, बिल्कुल हम वही चीज़े कर रहे हैं, जो हमने last एक दो वीडियो में पढ़ी है, इस function को हम run कर लेते हैं, और अब हमारा ये code सही से काम करेगा, हमारा node का नाम है calculateBMI, और behind the scenes उसके जो function run कर रहा है, उसका भी नाम है calculateBMI, ये दोनों नाम अलग हो सकते हैं, अब हमें क्या करना है, हमें अपने edges create करना है, तो since ये single node है, तो हमारा जो graph है, कुछ ऐसा दिखाई देगा, सबसे पहले आएगा start, start point करेगा towards calculateBMI, और calculateBMI point करेगा towards end, तो हम क्या कर रहे हैं, हम line graph के अंदर से start और end को import कर रहे हैं, तो ये आपके kind of dummy nodes हैं, जो आपको ये बताते हैं, कि यहां से आपका graph शुरू हो रहा है, यहां से आपका graph खतम हो रहा है, तो अब हमें क्या करना है, यहां पर एक एक करके edges जोड़ने हैं, तो सबसे पहला edge किसे के बीच में है, सबसे पहला edge है इन दोलों के बीच में, तो हम लिखेंगे, graph.addedge और edge start हो रहा है, start से, और यह जा रहा है towards calculate BMI के पास, तो यह हमने first edge define कर लिया, उसके बाद जो second edge है, वो होगा यहां से start, और वो जाएगा यहां तक, so we will write graph.addedge calculate BMI and it will go towards end, और यह हमने अपना define कर लिया, graph, ठीक है, अब let's compile the graph, ठीक है, तो graph को compile करना is very simple, आप simply लिखते हो graph.compile और इससे आपको एक compiled graph object मिलता है, जिसको हम फिलाल एक variable में डाल लेते हैं, let's call it workflow, और इसको run करते हैं, और हमने उपर वाला cell run नहीं किया था, उपर वाला cell run कर लेते हैं, और फिर से आ करके इसको चलाते हैं, and you can see हमारा graph successfully compile हो गया, तो अब हम क्या करेंगे, execute करेंगे, अगले cell में, execute करना बहुत आसान है, आपको simply लिखना होता है workflow.invoke ठीक है, तो behind the scenes एक runnable बन गया है, और यहाँ पर अब आप एक dictionary पास करोगे, जिसमें आप लिखोगे, कि weight केजी में है 80, और height meter में है let's say 1.73 और जैसे ही आप workflow को trigger करोगे, इस state input से, क्या होगा, कि यह value जा करके, आपके state को मिल जाएंगी, और फिर automatically यह सारा का सारा code execute होने लगेगा, ठीक है, पहला node execute होगा, फिर दूसरा, फिर तीसरा, since हमारे में एक ही है, तो एक ही node execute होके, यह workflow रुख जाएगा, तो finally हमें जो state की value है, वही return में मिलती है, हमेशा याद रखना, जब आप एक graph create करते हो, तो इसको आप input में भी state देते हो, और जब उसका execution खतम होता है, तो वो graph हमें पलट के, वापस state object ही देता है, तो यहाँ पर हमें पलट करके output state मिलेगा, ठीक है, in fact, इसको better तरीके से अगर लिखना है, तो आप ऐसे लिख सकते हो, हम यहाँ पर एक initial state बोल करके एक variable बना लेते हैं, और उस initial state को हम पास कर रहे हैं, और जब यह workflow अपना काम करना ख़तम करेगा, तो हम एक final या output state मिलेगा, इसको final state बुलाना जाधा सही रहेगा, let's call it final state, ठीक है, और फिर हम क्या कर रहे हैं, उस final state को print कर रहे हैं, ठीक है, let's run this, and you can see, हमारा 80 था weight, 1.73 था height, और यह रहा हमारा BMI, ठीक है, अब I know आपके दिमाग में आ रहा होगा कि हमने इतनी महनत कियो कि यह सारा काम तो हम जट से कर सकते थे, again, इस example का main goal यह नहीं था, कि मैं आपको दुनिया का best workflow बना के दिखाओ, मैंने बहुत simple workflow choose किया, just to show you how can you make a simple graph in lang graph, ठीक है, अब मैं आपको एक interesting चीज दिखाता हूँ, कि आप कैसे अपने graph को view कर सकते हो, like visually देख सकते हो, तो आपके बास एक piece of code रहता है, मैंने भी lang graph की documentation से उठा है, basically आपको यह code को run करना है, इस code को simply paste कर देना है, और just make sure यहाँ पे workflow है, और यहाँ पे भी workflow है, जैसे आप इसको run करोगे, आपको दिख जाएगा, आपका graph, तो यह देखो, स्टार्ट से शुरू हो रहा है, calculate BMI के पास जा रहा है, और फिर end के पास जा रहा है, ठीक है, तो actually मैंने jupyter notebook में इसलिए काम करना शुरू किया, because यह जो code है, यह jupyter notebook में काम करता है, .py file में काम नहीं करता, that is why हम jupyter notebook में कर रहे हैं, going forward जब हम थोड़े complex graphs बनाएंगे, तो visually देखना अच्छा रहता है, ठीक है, तो congrats guys, हमने अपना पहला land graph workflow बनाया, अब एक काम करते है, यहाँ पर रुकते नहीं है, थोड़ा सा और महनत करते हैं, इस graph को थोड़ा सा और complex बनाते हैं, मैं इसमें एक और feature आड़ करना चाहता हूँ, feature यह है, कि जो bmi की value calculate होके आ रही है, उसके basis पे मैं यह भी बताना चाहता हूँ, कि जो बनदा है, वो fit है, या overweight है, या फिर obese है, मैं यह भी बताना चाहता हूँ, ठीक है, इसका मतलब यह होगा, कि हमारे workflow में, अब हमें एक और node आड़ करना पड़ेगा, start से पहले हम जाएंगे, calculate bmi के पास, और फिर calculate bmi से जब हमें bmi की value मिल जाएगी, तो यहाँ पर हम label bmi बोल करके एक और node बनाएंगे, और फिर यहाँ पर हम पता करेंगे, कि वो जो बनदा है, किस bmi category में fall करता है, ठीक है, और फिर वहाँ से हम end पर जाएंगे, so basically हम हमारे sequence को थोड़ा और बड़ा कर रहे हैं, ठीक है, तो देखो क्या-क्या changes करने पड़ेंगे, सबसे पहले आपको क्या करना पड़ेंगा, एकड़म टॉप के जाके अपने state में changes करने पड़ेंगे, और आपको यहाँ पर एक नया attribute add करना पड़ेंगा, जिसको आप category बुलाओगे, ठीक है, और यह एक string होगा, this is the first change that you have to do, second change would be, कि आपके graph में अब एक और node आएगा, ठीक है, तो हम लिखेंगे, graph.add node, और इस node को हम बुला लेते हैं, label bmi, और इस से related जो function है, उसको भी हम लोग label bmi ही बुलाएंगे, हलाकि यह भी defined नहीं है, इसको चलो, अब define कर लेते हैं, उपर जाते हैं, एक नएया cell add गरते हैं, और यहाँ पर हम एक function मनाते है, label bmi, ठीक है, इसको भी input में state object मिलेगा, जिसका type होगा, bmi state, और output में फिर से state ही आएगा, and it will be bmi state, अब इसके अंदर का code बहुत simple है, आपको सबसे पहले bmi की value extract करनी है, जो calculate हुई है last node में, तो वो आपको मिल जाएगी, state के अंदर, और इस bmi की value के basis पे आप decision making करोगे, तो अब यह decision making मैं manually नहीं करूँगा खुछ से, यहाँ पर मैंने code use कर रखा है, so I will just copy this, और इसको मैं यहाँ पर paste कर दूँगा, तो bmi की value 18.5 से कम है, तो हम state के category variable में underweight डाल रहे हैं, 18 से 25 के बीच में है, तो state के category में normal डाल रहे हैं, you get the idea कि हम यहाँ पर क्या कर रहे हैं, और यह करने के बाद हम finally return कर दे रहे हैं हमारा state, तो हमने फिर से इस function के अंदर एक partial update किया अपने state के अंदर run हो गया, अब यहाँ पे node तो add हो गया, बट हमें graph में एक edge भी बनाना पड़ेगा, तो हम यहाँ पे लिखेंगे graph.add edge, और यह edge रहेगा आपके calculate bmi से label bmi तक, और यहाँ पे last में अब calculate के बदले आ जाएगा label bmi, I hope आपको समझ में आ रहा है, ठीक है, तो इसको भी हम लोग run करते हैं, और एक काम करता हूँ, execute करने के पहले मैं आपको एक बार दिखा देता हूँ, कि यह graph दिख कैसा रहा है, यह देखो, this is our graph, ठीक है, start के बाद calculate bmi के पास control जा रहा है, उसके बाद label bmi के पास, और उसके बाद end हो जा रहा है, ठीक है, तो हम फिर से same काम करते हैं, यह रहा है हमारा initial state, weight और height, यह values है, इसको हमने workflow में भेजा, and run किया, and you can see category भी आ गई, category is overweight, ठीक है, I hope आपको समझ में आ गया, तो this was a very simple example, जिसके थूँ आपने सीखा, कैसे आप lang graph में बहुत simple, non LLM based workflow बना सकते हो, ठीक है, अब हम बनाएंगे LLM based workflows, इस file को save कर लेते हैं, so जो LLM workflow हम बनाने जा रहे हैं, वो actually simplest LLM workflow है, so इसमें हम क्या करने जा रहे हैं, हम एक sequence असा बनाएंगे, जहाँ पे obviously start से start होगा, और हमारे पास एक node होगा, जिसका नाम होगा LLM QA, इस node का काम बहुत simple है, कि जब इसको एक prompt दिया जाएगा, एक question पूछा जाएगा, तो ये, वो question जा करके LLM से पूछेगा, और LLM का response को वापस लाएगा, answer के form में, और इसको state के ऊपर लिखेगा, that's it, ठीक है, और यहां से हम इस workflow को end कर देंगे, बहुत ही simple workflow है, यहां पे बस मैं आपको एक चीज सिखाना चाहता हूँ, कि कैसे Lang chain और Lang graph hand in hand काम करते हैं, ठीक है, और एक चीज और यहां पे discuss कर लेते हैं, कि इस graph का state क्या होगा, तो इसका state बहुत simple है, इसमें एक question बोलके attribute रहेगा, जो कि string रहेगा, और एक answer बोलके attribute रहेगा, जो कि again string रहेगा, that's it, बहुत ही simple workflow है, ठीक है, तो चलो, इसको बनाते हैं हम लोग, इस workflow को बनाने के लिए हमें एक नई फाइल चाहिए, let's call it simple llm workflow .ipynb ठीक है, यहाँ पे हमें कुछ चीज़े import करनी पड़ेंगी, also मैंने क्या किया है, since हम लोग openai की llms के साथ काम करेंगे, तो मैंने यहाँ पर एक .env फाइल बना लिए, और उस .env फाइल में, मैंने अपना openai का api की paste कर लिया है, ठीक है, obviously मैं आपको पूरा नहीं दिखा सकता, तो यह उसका truncated version आपको दिख रहा है, but इस openai api की को हम use करेंगे, ठीक है, तो सबसे पहले जो भी चीज़े required हैं, वो हम लोग import कर लेते हैं, सबसे पहले हमें lang graph से चाहिए पड़ेगा state graph, एक काम करते हैं, सबसे पहले environment select कर लेते हैं, और अब हम लोग import करते हैं, from lang graph dot graph import state graph, उसके बाद हमें lang chain openai से चाहिए होगा, chat openai, उसके बाद हमें typing से चाहिए होगा typed dictionary, और lastly हमें dot env से चाहिए होगा load.env चार imports हमें लेने हैं, सबसे पहले load.env function को call कर लेते हैं, और हम लोग अपना model भी import कर लेते हैं, so chat openai को हम call करेंगे और जो भी default model है, उसको हमने load कर लिया, ठीक है, तो यह हमारा setup ready है, अब हम लोग क्या करेंगे, we will create a state, तो फिर से we will create a class, class का नाम रख लेते हैं, llm state, इसको हम inherit करवा लेते हैं, typed dictionary से, और यहाँ पे मैंने जैसा बोला हम लोग दो attribute रखेंगे, first will be the question, जो कि एक string होगा, and second will be answer, जो कि again एक string होगा, ठीक है, उसके बाद यहाँ पे we will create our graph, और उसके लिए सबसे पहले आपको एक graph object बनाना होगा, जो कि state graph का object होगा, और यहाँ पे


और आपका करने के लिए आपका करने के लिए आपका करने के लिए इसको अपना काम करने के लिए इसको अपना काम करने के लिए हमारा answer और एक काम करते हैं यहाँ पर dot content लगा लेते हैं बिकोस आपको पता है जब llm से response आता है उसमें बहुत सारी चीज़े होती हैं हमें सिर्फ content वाले attribute से मतलब है क्योंकि उसी के अंदर answer रहेगा ठीक है और क्या करना है अपडेट करना है तो हम लिखेंगे स्टेट answer is equal to जो भी answer llm से हमें मिला और इतना करके we will return the state ठीक है? this is the logic in this particular node इसको run कर लेते हैं अब एक काम और कर लेते हैं टॉप पे जा करके let's import start and end और यहाँ पे आके हम लोग अपने edges define कर लेते हैं तो सबसे पहले हम लिखेंगे graph.add edge start से start होगा और जाएगा llmqa के पास और फिर second जो edge है वो llmqa से start होगा और जाएगा end के पास और इसके बाद let's compile our graph so we will write graph.compile और इसको हम लोग run कर लेंगे and you can see compile हो गया I don't know यह कैसे graph print भी हो जा रहा है मैंने graph को visualize करने का code यहाँ पे डाला नहीं है पता नहीं शायद I don't know देखना पड़ेगा बर जो भी है अच्छा है जैसे हम compile कर रहे हैं हमें हमारा graph दिख जा रहा है start llmqa end now we will execute ठीक है we need to define a initial state initial state में हम लिखेंगे question is how far is moon from the earth ठीक है यह हमारा question है और हम क्या करेंगे अच्छा एक चीज हमने की नहीं यह जो graph को हमने compile किया इसको हम एक अलग object में store करना है let's call it workflow अच्छा अब हमने workflow में add किया तो graph print नहीं हो रहा है in any case now what we will do is we will write workflow. invoke initial state और इससे हमें मिल जाएगा हमारा final state और हम लोग अपना final state print कर लेंगे let's run this यह थोड़ा time लेगा because LLM के पास question जा रहा है वो answer कर रहा है so यह रहा है हमारा question attribute और यह हमारा answer ठीक है अब अगर आपको सिर्फ अपना answer देखना है तो आप यहाँ पे answer को select कर सकते हो this will give you the answer ठीक है so यह रहा हमारा simple LLM workflow जहाँ पे हमने कुछ खास नहीं किया हम literally यह काम यह कर के भी कर सकते थे हम LLM dot invoke लिखके यहाँ पे simply लिख सकते थे और यहाँ पे LLM नहीं होगा model होगा हम simply यह code भी लिखते तो हमें same ही answer मिलता और यहाँ पे dot content अगर लगा देते तो same ही answer मिलता बस इतना साथ काम करने के लिए हमने यह सब कुछ किया but again हमारा end goal कुछ और है हमारा end goal है कि हम Language को use करना सीखना चाहते हूँ और आज के वीडियो में हम Language को use करके linear workflows बनाना चाहते है obviously linear workflows बनाने के लिए Language is not a good candidate because it's an overkill it's like घुमा के कान पकड़ना but आगे चलके जब आप ये concepts apply करोगे to complex workflows वहाँ पर आपको true power समझ में आएगी I hope आपको यहां तक सबको समझ में आ रहा है अब हम लोग क्या करेंगे हम लोग एक workflow और बनाएंगे और उस workflow का नाम है prompt chaining मैंने आपको last video में बताए भी था अलग लग workflows जब मैंने आपको बताए थे कि prompt chaining क्या होता है जहांपे आप multiple LLM calls करते हो एक single LLM call में आपका सारा काम नहीं हो रहा है तो आप अपने task को decompose कर रहे हो और series of LLM calls करके अपना काम पूरा कर रहे हो तो हम एक prompt chaining का चोटा सा workflow बनाएंगे जो workflow हम बनाने जा रहे हैं हम हमारे LLM को एक topic provide करेंगे और हमारा LLM उस topic के उपर एक block generate करेगा यह workflow prompt chaining इसलिए है हम directly topic से block generate नहीं करेंगे पहले हम topic को उठाएंगे और उसको LLM के पास भेजेंगे और हम बोलेंगे कि इस topic के लिए एक detailed outline generate करो जब यह outline generate हो जाएगा तो फिर हम फिर से LLM के पास जाएँगे और हम बोलेंगे कि इस topic plus outline के लिए generate a block और इस से हमें final block मिलेगा ठीक है तो basic structure यह रहेगा कि start से start करेंगे generate outline पे जाएँगे generate outline से generate block पे जाएँगे और फिर generate block से हम finally end पे जाएँगे ठीक है अब इसको prompt chaining इसलिए बोल रहे हैं because यहाँ पे दो nodes है और दोनो nodes में हम LLM से interact कर रहे हैं prompt chaining का definition यही था कि आपके workflow में आप multiple times अपने LLM से interact करते हो ठीक है तो हम यहाँ पर ऐसा कर रहे हैं that is why we are calling this a prompt chaining workflow ठीक है तो चलो देखते हैं इस workflow को कैसे बनाना है so let's create a new file let's call it prompt chaining .ipynb और यहाँ भी हमें imports तो same ही चाहिए होगे तो select कर लेते हैं अपना environment run हो गया और आगे load .env और model को भी हम लोग import कर लेते हैं ठीक है अब जल्दी से एक बार बात करते हैं कि इस particular workflow में हमारा state क्या होने वाला है तो यहाँ पर state में रहेगा topic जो कि string रहेगा outline again string रहेगा और blog का content जो कि again string रहेगा ठीक है यही तीन चीज़े चाहिए तो let's define a state class blog state typed dictionary title of the blog string outline string content string ठीक है अब यहाँ पर हम अपना graph बनाएंगे so graph हो जाएगा state graph यहाँ पर हम pass करेंगे अपना blog state यहाँ पर हम अपने nodes add करेंगे दो nodes हैं हमारे case में तो हम लिखेंगे graph dot add node पहले node का नाम होगा create outline function का नाम भी same रख लेते हैं create outline और copy paste अगले node का नाम होगा create blog यहाँ पर भी आ जाएगा create blog अब एक काम करते हैं यह दोनों functions हम लोग create कर लेते हैं सबसे पहले हम लोग बनाएंगे create outline इसको input में state मिल रहा है blog state टाइप का object है और return में भी state दे रहा है ठीक है अब यहाँ पर हमें क्या करना है basic funda यह है कि हमें fetch करना है title को call करना है llm को और generate कराना है outline को और update करना है state में ठीक है तो we can write title is equal to state का title यहाँ पर we can create a prompt और again हम लोग fstring यूज़ कर लेते हैं generate an outline for a blog on the topic title ठीक है generate a detailed outline for a blog on the topic this ठीक है उसके बाद हम क्या करेंगे model.invoke करेंगे और पास कर देंगे अपने prompt को content उठा लेंगे और उसको store कर लेंगे outline बोलके एक variable में और यहाँ पर हम लिखेंगे state का outline is equal to outline और हम return कर देंगे state को तो यह बन गया हमारा first node का logic similarly हम बनाएंगे हमारे second node का logic जिसका नाम होगा create blog again state as input मिल रहा है blog state output is also blog state same logic रहेगा यहाँ पे भी हमें दोनों चीज़े fetch करनी पड़ेंगी title क्या है और current outline क्या है एक बर जब यह दोनों चीज़े हमारे पास आ जाएंगी तो हम लोग एक prompt फिर से बनाएंगे prompt हो जाएगा write a detailed blog on the title using the following outline slash यहाँ पे हम अपना outline provide कर देंगे ठीक है और फिर हम लोग क्या करेंगे model. invoke करेंगे और यहाँ पे हम अपना prompt पास कर देंगे जो भी content है वो हम लोग extract कर लेंगे और उसको content बोलके एक variable में store कर लेंगे और state के content में हम content को डाल देंगे और हम लोग return कर देंगे state को ठीक है तो यह हमारे दोनो notes prepare हो गए, now we have to add the edges so we will write graph.addedge start से start करेंगे और जाएंगे create outline के पास graph.addedge create outline से जाएंगे create block के पास graph. addedge create block से जाएंगे end के पास ठीक है और graph.compile करके एक बार चेक कर लेते हैं, ठीक है start create outline create block end ठीक है वापस से इसको एक variable में store कर लेते हैं, हो गया let's define our initial state, initial state में हम रखेंगे title rise of AI in India बोलके ठीक है और हम लिखेंगे workflow . invoke initial state, पूरा workflow complete होगा, हमें मिलेगा हमारा final state and we will print our final state, बहुत बड़ा output होगा, एक बार इसको run करते हैं, so हम दो बार LLM को call कर रहे हैं, time थोड़ा जादा लगेगा, so you can see title ये रहा, outline आ गया, एक काम करते हैं final state से outline को print करते हैं और देखते हैं कि outline क्या define हुआ है, ठीक है ये रहा हमारा introduction, फिर historical context of AI in India, current state of AI in India, challenges and opportunities, future outlook, conclusion अब हम लोग लिखते हैं, final state content print, इस से हमें हमारा पूरा block दिखाई देगा, ठीक है ये SIK line का इसलिए दिख रहा है because ये horizontally scrollable है ठीक है, this is a proper block जो generate हुआ है, ठीक है तो I hope आपको समझ में आ गया कि कैसे आप prompt chaining कर सकते हूँ, using lang graph already आपको एक benefit दिख रहा होगा, अगर ये same काम आप chain की help से करते हैं, chain बना करके तो वहाँ पे जब आप final state में output निकालते हैं तो आपको सिर्फ ब्लॉग का content मिलता, आपको ब्लॉग का outline नहीं मिलता यह शायद आपको याद होगा, यह problem हमने face की थे जब हम chains बनाते थे यहाँ पे देखो, last step में मेरे पास ब्लॉग का title भी accessible है, outline भी accessible है, और content भी accessible है, ठीक है, तो यह इसलिए फाइदे मंध है, because हमारे पास state का concept है, state सब कुछ लेकर चल रहा है, शुरू से लेकर एंड तक, और वो evolve होता जा रहा है ठीक है, तो yeah guys इतना ही मुझे आपको पढ़ाना था इस वीडियो में, मेरा goal बहुत simple था, आपको sequential workflows बना की दिखाने थे Language Graph में, और मेरा goal आपको sequential workflow बनाने से सिखाना था, कैसे आप Language Graph में code करते हो मैंने चीजों को simple रखा है and I really hope, मैंने हाथ से code किया, तो आपको चीजे और आसान लगी होंगी, and I hope, कि आप भी अपने मशीन पे यह चीजे बना के देखो, ठीक है एक छोटा सा home work दे देता हूँ मैं आपको, आप क्या करो यह जो last prompt chaining वाली चीज हमने की है इसमें आप एक node और add करो, फिल्हाल एक node है outline का दूसरा है block generate करने का, थर्ड आप एक evaluate करने का node add करो, इस evaluate node में आप यह prompt लिखना कि based on this outline rate my blog ठीक है, और generate a score integer score, ठीक है, तो आपको state में changes करने बड़ेंगे और आपको workflow में भी थोड़े changes करने बड़ेंगे यह करके देखना आप, बहुत खास कुछ improvement नहीं है, but since आप लोग पहली बार कर रहो, तो यह छोटी-छोटी चीजे भी अगर आप खुद से कर पा रहो तो it is significant progress ठीक है, तो with that I will conclude this video, अगर आपको वीडियो पसंद आया, तो please like करना, अगर आपने channel को subscribe नहीं किया है, please do subscribe, मिलते हैं next video में, bye