
## 3.1 what are tools？

在本模块中，您将学习 LLM 的工具使用，这意味着让您的 LLM 自行决定何时需要调用某个函数来执行操作、收集信息或完成其他任务。就像我们人类借助工具能比徒手完成更多事情一样，LLM 通过调用工具也能实现更强大的功能。不过我们提供的不是锤子、扳手或钳子这类实体工具，而是可供 LLM 调用的函数——正是这些工具让 LLM 具备了更广泛的能力。

让我们来看看。如果你问一个可能几个月前训练过的 LLM，现在几点钟了？这个训练过的模型并不知道确切的时间，所以它应该会回答：抱歉，我无法获取当前时间。但如果你写一个函数，并让大语言模型能够访问这个函数，它就能给出更有用的答案。当我们让 LLM 调用函数，或者更准确地说，让 LLM 请求调用函数时，这就是我们所说的工具使用。这些工具其实就是我们提供给 LLM 的函数，LLM 可以请求调用它们。

具体来说，工具使用是这样运作的：在这个例子中，我将把上一张幻灯片中展示的`getCurrentTime` 函数提供给 LLM。当你提问"现在几点"时，LLM 可以决定调用 `getCurrentTime` 函数。该函数会返回当前时间，这个时间随后会被反馈到对话历史中，最终 LLM 可以输出，比如说，"下午3 点 20 分"。因此，步骤的顺序是这样的：首先有一个输入提示。在这个例子中，LLM 会查看可用的工具集（虽然这个例子中只有一个工具），然后决定调用这个工具。这个工具是一个函数，它会返回一个值，这个值会被反馈给 LLM，最后 LLM 生成它的输出。

现在，工具使用的一个重要方面是，我们可以让 LLM 自行决定是否使用任何工具。因此，在同样的设置下，如果我问它 “绿茶中含有多少咖啡因”，LLM 不需要知道当前时间就能回答这个问题，所以它可以直接生成答案——绿茶通常含有这么多咖啡因——而且无需调用`getCurrentTime` 函数。

在我的幻灯片中，我会在 LLM 上方使用这种带虚线框的符号来表示，我们正在为 LLM 提供一组工具，供 LLM 在认为合适时选择使用。

这与你在之前视频中看到的一些例子不同，那些例子中，我作为开发者硬编码了一些操作，比如在研究代理的某个固定节点总是执行网页搜索。相比之下，`getCurrentTime` 函数调用并非硬编码——是否调用该函数完全由 LLM 自主决定。我们将继续使用这种虚线框标注法，来表示我们向大语言模型提供一个或多个工具时，由模型自行决定是否调用（以及调用哪些）工具。

以下是一些工具使用可能帮助基于 LLM 的应用程序生成更好答案的例子。如果你问它：“你能找到加利福尼亚州山景城附近的一些意大利餐厅吗？”如果它有一个网络搜索工具，那么 LLM 可能会选择调用网络搜索引擎进行查询，搜索“加利福尼亚州山景城附近的餐厅”，并使用获取的结果来生成输出。

或者，如果你经营一家零售店，并且希望能够回答诸如“给我看看买了白色太阳镜的顾客”这样的问题，如果你的 LLM 被授权访问查询数据库工具，那么它可能会查找销售表格，看看哪些条目售出了一副白色太阳镜，然后利用这些信息生成输出。

最后，如果你想进行利率计算，比如我存入 500 美元，10 年后，利率为5%，我会得到多少钱？如果你恰好有一个利息计算工具，那么它可以调用利息计算功能来计算。或者你会发现，之后的一个方法是让 LLM 编写代码，比如像这样写一个数学表达式，然后进行计算，这将是让 LLM 计算出正确答案的另一种方式。

因此，作为开发者，你需要仔细思考你希望应用程序真正实现哪些功能，然后创建必要的函数或工具，使这些功能可供 LLM 使用，让它能够选择合适的工具来完成诸如餐厅推荐、零售问题解答或财务助手等任务。根据你的应用程序需求，你可能需要实现并提供不同的工具给你的 LLM。

到目前为止，我们讨论的大多数示例只向 LLM 提供了一种工具或一个功能。但在许多实际应用中，你可能需要为 LLM 提供多种工具或功能，让它自行选择调用哪一个。例如，如果你正在开发一个日历助手代理，你可能希望它能够处理类似这样的请求：请在我的日历中查找周四的空闲时段，并为我和爱丽丝安排一个约会。

因此，在这个例子中，我们可以向 LLM 提供一个工具或功能来安排预约，即发送日历邀请，检查日历以查看我何时有空，以及如果它想取消现有的日历条目，还可以删除预约。根据这组指令，LLM 首先会决定在可用的不同工具中，它应该使用的第一个工具可能是检查日历。

因此，调用一个检查日历的函数，它会返回我周四的空闲时间。根据这些反馈给 LLM 的信息，它可以决定下一步是选择一个时间段，比如下午 3 点，然后调用预约函数，向 Alice 发送日历邀请，并将其添加到我的日历中。

最终输出的结果（希望是日历条目已成功发送的确认信息）会反馈给 LLM，然后大语言模型可能会告诉我："您与 Alice 的约会已安排在周四下午3点。" 能够让你的大语言模型使用工具是一件非常重要的事情。这将使你的应用程序变得更加强大。在下一个视频中，我们将看看如何编写函数，如何创建工具，然后让它们可供你的大语言模型使用。让我们继续观看下一个视频。